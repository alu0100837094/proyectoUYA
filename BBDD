/*Tabla usuario*/
CREATE TABLE USUARIO
(
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
nombre VARCHAR(30) NOT NULL,
apellidos VARCHAR(30) NOT NULL,
email VARCHAR(50) NOT NULL,
password VARCHAR(10)  NOT NULL,
fecha_reg TIMESTAMP

) ENGINE=InnoDB;

/*Tabla Publicacion*/
CREATE TABLE PUBLICACION
(
id_pu INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
descripcion VARCHAR(200),
zona VARCHAR(30) NOT NULL,
foto VARCHAR(30),
precio INT(5) NOT NULL,
banho INT(2) NOT NULL,
habitaciones INT(2) NOT NULL,
FOREIGN KEY (id_pu) REFERENCES USUARIO(id)
);


/*Tabla Mensajes*/
CREATE TABLE MENSAJE
(
id_me INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
texto VARCHAR(300) NOT NULL,
tipo VARCHAR(3) NOT NULL,
FOREIGN KEY (id_me) REFERENCES USUARIO(id) ON DELETE CASCADE);

/*Tabla favoritos*/
CREATE TABLE FAVORITO
(
id_fa INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY
);

/*Tabla agregado*/
CREATE TABLE AGREGADO
(
id_agr INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
fecha TIMESTAMP,
FOREIGN KEY (id_agr) REFERENCES USUARIO(id) ON DELETE CASCADE,
FOREIGN KEY (id_agr) REFERENCES FAVORITO(id_fa) ON DELETE CASCADE
);
